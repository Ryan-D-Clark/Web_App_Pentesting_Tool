import tkinter as tk
from tkinter import filedialog as fd
from tkinter import BOTH, E, EW, W, Toplevel, ttk
from tkinter import messagebox
from tkinter.messagebox import showerror
from threading import Thread
import requests
import time
from concurrent.futures import ThreadPoolExecutor

class Discoverer:

    def __init__(self, url, wordlist, output):
        self.url = url
        self.wordlist = wordlist
        self.output = output

    def threading(self):
        self.thread = Thread(target=self.discoverer_controller)
        self.thread.start()

    def thread_monitor(self):
        if self.thread.is_alive:
            # self.thread.
            return

    def discoverer(self, url):
        url = url.strip("\n")
        if requests.get(url).status_code == 200:
            print(url)

             
    def discoverer_controller(self):
        url_list = []
        start_time = time.time()
        with open(self.wordlist) as wordlist:
            for line in wordlist:
                url_list.append(f"{self.url}/{line}")
        with ThreadPoolExecutor(max_workers=10) as pool:
            pool.map(self.discoverer,url_list)
        end_time = time.time()
        print("Time taken", end_time - start_time)
