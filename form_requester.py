import requests as r
from bs4 import BeautifulSoup as bs


def form_requester(url):
    input_fields = []
    soup = bs(r.get(url).text, "html.parser")
    form_inputs = soup.find_all("input")
    form = soup.find("form")
    print(form)
    if form is None:
        if form_inputs is not None:
            print("Found inputs on page")
            if form_inputs[0]["id"] and form_inputs[1]["id"]:
                return "No form detected, inputs found:", form_inputs[0]["id"], form_inputs[1]["id"]



    for input in form_inputs:
        if input.attrs.get("name") is None:
            pass
        else:
            if input.attrs.get("type") == "hidden":
                pass
            else:
                input_fields.append(input.attrs.get("name"))

    if len(input_fields) == 0:
        return "Unable to find form payloads", None, None
                
                
    if len(input_fields) >= 2:
        input_fields[0] = input_fields[0]
        input_fields[1] = input_fields[1]

    return "Likely payload values:", input_fields[0], input_fields[1]